[gd_scene load_steps=18 format=2]

[ext_resource path="res://Main.gd" type="Script" id=1]
[ext_resource path="res://Entities/Tower/Tower.tscn" type="PackedScene" id=2]
[ext_resource path="res://Effects/Camera/ShakableCamera.tscn" type="PackedScene" id=3]
[ext_resource path="res://GUI/Panel.tscn" type="PackedScene" id=4]
[ext_resource path="res://Effects/frame_freezer.gd" type="Script" id=5]
[ext_resource path="res://Resources/StickWar.wav" type="AudioStream" id=6]
[ext_resource path="res://Misc/wave_manager.gd" type="Script" id=7]
[ext_resource path="res://GUI/WaveIndicator.tscn" type="PackedScene" id=8]
[ext_resource path="res://Resources/Ground.png" type="Texture" id=9]
[ext_resource path="res://Resources/Backgrounds - FREE/Background 07/PARALLAX/layer_04_1920 x 1080.png" type="Texture" id=11]
[ext_resource path="res://Resources/Backgrounds - FREE/Background 07/PARALLAX/layer_06_1920 x 1080.png" type="Texture" id=14]
[ext_resource path="res://Resources/Backgrounds - FREE/Background 07/PARALLAX/layer_05_1920 x 1080.png" type="Texture" id=15]

[sub_resource type="Gradient" id=2]
colors = PoolColorArray( 0.286275, 0.584314, 0.701961, 1, 0.85098, 0.945098, 0.972549, 1 )

[sub_resource type="GradientTexture" id=3]
gradient = SubResource( 2 )

[sub_resource type="Gradient" id=4]
colors = PoolColorArray( 0.141176, 0.360784, 0.0980392, 0.392157, 0.270588, 0.266667, 0.266667, 0.509804 )

[sub_resource type="GradientTexture" id=5]
gradient = SubResource( 4 )

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 723.126, 76 )

[node name="Main" type="Node2D"]
script = ExtResource( 1 )

[node name="LevelElements" type="Node2D" parent="."]

[node name="Background" type="Node2D" parent="LevelElements"]

[node name="Layer2" type="Sprite" parent="LevelElements/Background"]
position = Vector2( 531.742, 160.394 )
rotation = -1.5708
scale = Vector2( 0.449064, 1091.92 )
texture = SubResource( 3 )

[node name="Layer3" type="Sprite" parent="LevelElements/Background"]
position = Vector2( 540.851, 315.997 )
scale = Vector2( 0.7, 0.7 )
texture = ExtResource( 14 )

[node name="Layer4" type="Sprite" parent="LevelElements/Background"]
position = Vector2( 510.315, 302.193 )
scale = Vector2( 0.7, 0.7 )
texture = ExtResource( 15 )

[node name="Layer5" type="Sprite" parent="LevelElements/Background"]
position = Vector2( 510.502, 309.727 )
scale = Vector2( 0.7, 0.7 )
texture = ExtResource( 11 )

[node name="Layer6" type="Sprite" parent="LevelElements/Background"]
visible = false
position = Vector2( 510.502, 257.727 )
scale = Vector2( 0.7, 0.7 )

[node name="Ground" type="StaticBody2D" parent="LevelElements" groups=[
"ground",
]]
collision_layer = 33

[node name="TextureRect" type="TextureRect" parent="LevelElements/Ground"]
margin_left = -26.0
margin_top = 424.0
margin_right = 1032.0
margin_bottom = 616.0
texture = ExtResource( 9 )
expand = true
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Gradient" type="Sprite" parent="LevelElements/Ground"]
position = Vector2( 516.972, 549.479 )
rotation = 1.5708
scale = Vector2( 0.0802427, 1086.04 )
texture = SubResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="LevelElements/Ground"]
position = Vector2( 626.322, 528.186 )
shape = SubResource( 1 )

[node name="Tower" parent="LevelElements" instance=ExtResource( 2 )]
position = Vector2( 99.8085, 430.833 )

[node name="Spawn" type="Node2D" parent="."]

[node name="EnemyGround" type="Position2D" parent="Spawn"]
position = Vector2( 1000, 420 )

[node name="EnemyAir" type="Position2D" parent="Spawn"]
position = Vector2( 1000, 100.882 )

[node name="AllyGround" type="Position2D" parent="Spawn"]
position = Vector2( 93, 420 )

[node name="AllyAir" type="Position2D" parent="Spawn"]
position = Vector2( 52.8605, 98.7527 )

[node name="Enemies" type="Node2D" parent="."]

[node name="Allies" type="Node2D" parent="."]

[node name="MaxPos" type="Position2D" parent="Allies"]
position = Vector2( 919.201, 427.983 )

[node name="Objects" type="Node2D" parent="."]

[node name="ShakableCamera" parent="." instance=ExtResource( 3 )]
position = Vector2( 510, 300 )
current = true

[node name="FrameFreezer" type="Node2D" parent="."]
position = Vector2( 510, 300 )
script = ExtResource( 5 )
delay_ms = 90

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 6 )

[node name="WaveManager" type="Node" parent="."]
script = ExtResource( 7 )

[node name="WaveIndicator" parent="." instance=ExtResource( 8 )]
position = Vector2( 510.802, 219.886 )
scale = Vector2( 1e-05, 1e-05 )

[node name="Tween" type="Tween" parent="."]

[node name="PanelContainer" type="Node2D" parent="."]

[node name="Panel" parent="PanelContainer" instance=ExtResource( 4 )]
margin_bottom = 52.0
[connection signal="destroyed" from="LevelElements/Tower" to="." method="_on_Tower_destroyed"]
[connection signal="spawn_enemy" from="WaveManager" to="." method="_on_WaveManager_spawn_enemy"]
[connection signal="animation_finished" from="WaveIndicator" to="." method="_on_WaveIndicator_animation_finished"]
[connection signal="item_purchased" from="PanelContainer/Panel" to="." method="_on_Panel_item_purchased"]
